<mxfile host="65bd71144e" scale="1" border="10">
    <diagram name="System Architecture" id="investment-architecture">
        <mxGraphModel dx="1386" dy="779" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" background="#ffffff" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="Investment Research Agent - Multi-Agent System Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#1976D2" parent="1" vertex="1">
                    <mxGeometry x="327" y="20" width="1000" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="ui-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#0277BD;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="60" width="1480" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="ui-title" value="User Interface Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#0277BD" parent="1" vertex="1">
                    <mxGeometry x="90" y="90" width="200" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="gradio-ui" value="Gradio Web Interface&#xa;&#xa;• Stock Symbol Input&#xa;• Analysis Type Selection&#xa;• Interactive Visualizations&#xa;• Real-time Results" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#0277BD;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="420" y="72" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="visualizer" value="Investment Visualizer&#xa;&#xa;• Price Charts&#xa;• Sentiment Analysis&#xa;• Quality Dashboard&#xa;• Comprehensive Reports" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#0277BD;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="710" y="70" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="config-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#4A148C;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="200" width="1480" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="config-title" value="Configuration &amp; Prompt Management" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#4A148C" parent="1" vertex="1">
                    <mxGeometry x="90" y="206.5" width="410" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="prompt-config" value="PromptConfiguration&#xa;&#xa;• 12 Centralized Prompts&#xa;• Planning Templates&#xa;• Analysis Prompts&#xa;• Evaluation Criteria" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4A148C;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="420" y="210" width="200" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="env-config" value="Environment Setup&#xa;&#xa;• Azure OpenAI Config&#xa;• API Key Management&#xa;• External Service Setup&#xa;• LLM Initialization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4A148C;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="710" y="210" width="200" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="coordinator-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#F57F17;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="350" width="1480" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="coordinator-title" value="Main Coordination Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#F57F17" parent="1" vertex="1">
                    <mxGeometry x="100" y="360" width="220" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="main-agent" value="MainInvestmentResearchAgent&#xa;&#xa;• Orchestrates All Workflows&#xa;• Coordinates Three Patterns&#xa;• Generates Investment Reports&#xa;• Manages Research Process" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F57F17;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="400" y="360" width="240" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="base-agent" value="InvestmentResearchAgent&#xa;(Base Class)&#xa;&#xa;• Planning Capabilities&#xa;• Tool Usage&#xa;• Self-Reflection&#xa;• Learning &amp; Memory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#F57F17;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="710" y="360" width="200" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="workflows-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#2E7D32;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="504" width="1480" height="190" as="geometry"/>
                </mxCell>
                <mxCell id="workflows-title" value="Three Workflow Patterns" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#2E7D32" parent="1" vertex="1">
                    <mxGeometry x="100" y="521" width="200" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="pattern1" value="Pattern 1: Prompt Chaining&#xa;NewsProcessingChain&#xa;&#xa;Ingest → Preprocess → Classify → Extract → Summarize&#xa;&#xa;• News Ingestion&#xa;• Content Preprocessing&#xa;• Sentiment Classification&#xa;• Key Information Extraction&#xa;• Final Summarization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="350" y="515" width="280" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="pattern2" value="Pattern 2: Routing&#xa;RoutingCoordinator&#xa;&#xa;• TechnicalAnalyst&#xa;• FundamentalAnalyst&#xa;• NewsAnalyst&#xa;&#xa;Routes to appropriate specialists&#xa;Synthesizes multiple analyses&#xa;Coordinates specialist expertise" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="660" y="517" width="280" height="166" as="geometry"/>
                </mxCell>
                <mxCell id="pattern3" value="Pattern 3: Evaluator-Optimizer&#xa;EvaluatorOptimizer&#xa;&#xa;Generate → Evaluate → Refine&#xa;&#xa;• Analysis Generation&#xa;• Quality Evaluation&#xa;• Iterative Refinement&#xa;• Optimization Loop&#xa;• Performance Tracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#2E7D32;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="980" y="517" width="280" height="168" as="geometry"/>
                </mxCell>
                <mxCell id="memory-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#C62828;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="710" width="1480" height="121" as="geometry"/>
                </mxCell>
                <mxCell id="memory-title" value="Memory &amp; Learning System" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#C62828" parent="1" vertex="1">
                    <mxGeometry x="90" y="720" width="220" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="agent-memory" value="AgentMemory&#xa;&#xa;• FAISS Vector Store&#xa;• Experience Storage&#xa;• Relevant Retrieval&#xa;• Persistent Learning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="400" y="721" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="embeddings" value="Azure OpenAI Embeddings&#xa;&#xa;• Text Vectorization&#xa;• Semantic Search&#xa;• Memory Indexing&#xa;• Context Retrieval" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#C62828;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="730" y="725" width="200" height="91" as="geometry"/>
                </mxCell>
                <mxCell id="data-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="850" width="1480" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="data-title" value="Data Sources &amp; Tools" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#01579B" parent="1" vertex="1">
                    <mxGeometry x="90" y="850" width="180" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="yahoo-finance" value="Yahoo Finance&#xa;&#xa;• Stock Prices&#xa;• Historical Data&#xa;• Company Info" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#01579B;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="350" y="869.5" width="120" height="101" as="geometry"/>
                </mxCell>
                <mxCell id="newsapi" value="NewsAPI&#xa;&#xa;• Recent News&#xa;• Article Content&#xa;• Market Updates" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#01579B;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="610" y="872.5" width="120" height="95" as="geometry"/>
                </mxCell>
                <mxCell id="fred" value="FRED API&#xa;&#xa;• Economic Data&#xa;• Fed Indicators&#xa;• Macro Trends" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#01579B;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="860" y="872.5" width="120" height="95" as="geometry"/>
                </mxCell>
                <mxCell id="alpha-vantage" value="Alpha Vantage&#xa;&#xa;• Company Overview&#xa;• Financial Data&#xa;• Technical Indicators" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#01579B;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="1060" y="872.5" width="120" height="95" as="geometry"/>
                </mxCell>
                <mxCell id="azure-container" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#880E4F;strokeWidth=3;" parent="1" vertex="1">
                    <mxGeometry x="80" y="1006" width="1480" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="azure-title" value="Azure OpenAI Foundation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#880E4F" parent="1" vertex="1">
                    <mxGeometry x="90" y="1010" width="200" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="azure-llm" value="Azure ChatOpenAI&#xa;GPT-4/GPT-3.5-Turbo" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#880E4F;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="470" y="1026" width="160" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="langchain" value="LangChain Framework&#xa;Agent Orchestration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#880E4F;strokeWidth=2;" parent="1" vertex="1">
                    <mxGeometry x="690" y="1024" width="160" height="44" as="geometry"/>
                </mxCell>
                <mxCell id="flow1" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#2E7D32;strokeWidth=3;" parent="1" source="gradio-ui" target="main-agent" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="220" y="200" as="sourcePoint"/>
                        <mxPoint x="240" y="320" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#F57F17;strokeWidth=3;" parent="1" source="main-agent" target="pattern1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="240" y="491" as="sourcePoint"/>
                        <mxPoint x="260" y="551" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow5" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#C62828;strokeWidth=3;" parent="1" source="pattern1" target="agent-memory" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="260" y="701" as="sourcePoint"/>
                        <mxPoint x="220" y="771" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="490" y="710"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow6" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;entryX=0.5;entryY=0;strokeColor=#01579B;strokeWidth=3;" parent="1" source="pattern1" target="newsapi" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="260" y="701" as="sourcePoint"/>
                        <mxPoint x="340" y="891" as="targetPoint"/>
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="3" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.361;entryY=-0.006;strokeColor=#F57F17;strokeWidth=3;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="main-agent" target="pattern2" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="530" y="490" as="sourcePoint"/>
                        <mxPoint x="500" y="525" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="5" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.361;entryY=-0.006;strokeColor=#F57F17;strokeWidth=3;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="main-agent" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="760" y="490" as="sourcePoint"/>
                        <mxPoint x="991" y="524" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>